CREATE TABLE IF NOT EXISTS customer(
id serial PRIMARY KEY,
name varchar(30) NOT NULL,
email varchar(255) UNIQUE
);

CREATE TABLE IF NOT EXISTS product(
id serial PRIMARY KEY,
name varchar(255) NOT NULL,
price integer NOT NULL
);

CREATE TABLE IF NOT EXISTS orders(
id serial PRIMARY KEY,
order_date date,
customer_id integer,
FOREIGN KEY(customer_id) REFERENCES customer(id)
);

CREATE TABLE IF NOT EXISTS products_in_order(
product_id integer,
order_id integer,
primary key (product_id, order_id),
FOREIGN KEY(product_id) REFERENCES product(id),
FOREIGN KEY(order_id) REFERENCES orders(id)
);